<!doctype html>
<html>
<head>
  <title>Magazzino</title>
</head>
<body>
  <h1>Benvenuto nel Magazzino</h1>

  <p><a href="{{ url_for('logout') }}">Logout</a></p>

  <h2>Inventario</h2>
  <table border="1" cellpadding="5">
    <tr>
      <th>Codice</th>
      <th>Nome</th>
      <th>Quantità</th>
    </tr>
    {% for codice, prodotto in magazzino.items() %}
    <tr>
      <td>{{ codice }}</td>
      <td>{{ prodotto.nome }}</td>
      <td>{{ prodotto.quantità }}</td>
    </tr>
    {% endfor %}
  </table>

  <h2>Aggiungi nuovo prodotto</h2>
  <form method="post" action="/aggiungi">
    <input type="text" name="codice" placeholder="Codice" required>
    <input type="text" name="nome" placeholder="Nome" required>
    <input type="number" name="quantità" placeholder="Quantità" min="1" required>
    <input type="submit" value="Aggiungi">
  </form>

  <h2>Aggiorna quantità prodotto</h2>
  <form method="post" action="/aggiorna">
    <input type="text" name="codice" placeholder="Codice" required>
    <select name="tipo" required>
      <option value="acquisto">Acquisto (+)</option>
      <option value="vendita">Vendita (-)</option>
    </select>
    <input type="number" name="quantità" placeholder="Quantità" min="1" required>
    <input type="submit" value="Aggiorna">
  </form>

  <h2>Scansiona prodotto</h2>
  <form method="post" action="/scansione">
    <input type="text" name="codice" placeholder="Codice (es. A_12345 o V_12345)" required>
    <input type="number" name="quantità" placeholder="Quantità" min="1" required>
    <input type="submit" value="Scansiona">
  </form>
</body>
</html>
